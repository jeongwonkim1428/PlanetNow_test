<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ashion Template">
    <meta name="keywords" content="Ashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ashion | Template</title>
    <script th:src="@{/js/jquery-3.3.1.min.js}"></script>

    <script>
        $(document).ready(function() {
            applyTaskStatusColors();
            function applyTaskStatusColors() {
                $(".taskStatusSpan").each(function () {
                    let taskStatus = $(this).data("tstatus"); // Ensure this matches the data attribute in HTML

                    switch (taskStatus) {
                        case "진행전":
                            $(this).css("background", "#d3d3d3"); // Light Gray
                            break;
                        case "진행중":
                            $(this).css("background", "#28a745"); // Green
                            break;
                        case "완료":
                            $(this).css("background", "#007bff"); // Blue
                            break;
                        case "실패":
                            $(this).css("background", "#dc3545"); // Red
                            break;
                        default:
                            $(this).css("background", "grey");
                    }
                });
            }

            $(".updateStatus").click(function () {
                let subTaskId = Number($(this).data("subtaskid"));
                let taskStatusId = Number($(this).data("taskstatusid"));

                $.ajax({
                    url: "/sub-task/change-status",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify({ subTaskId: subTaskId,
                                           taskStatusId: taskStatusId }),
                    success: function (response) {
                        // alert("상태가 업데이트되었습니다");
                        location.reload()
                    },
                    error: function (xhr, status, error) {
                        console.error("Error:", error);
                        alert("업데이트 실패: " + error);
                    }
                });
            });

            $(".updateSubTask").click(function () {

                let $parentDiv = $(this).closest(".blog__details__tags");
                let $form = $parentDiv.find(".subTaskUpdateForm");

                if ($form.is(":visible")) {
                    $form.hide();
                    $(this).text("수정하기");
                } else {
                    $form.show();
                    $(this).text("수정하기 취소");
                }
            })
        });

    </script>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
          rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="/css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="/css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__close">+</div>
        <ul class="offcanvas__widget">
            <li><span class="icon_search search-switch"></span></li>
            <li><a href="#"><span class="icon_heart_alt"></span>
                <div class="tip">2</div>
            </a></li>
            <li><a href="#"><span class="icon_bag_alt"></span>
                <div class="tip">2</div>
            </a></li>
        </ul>
        <div class="offcanvas__logo">
            <a href="./index.html"><img src="/img/logo.png" alt=""></a>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__auth">
            <a href="#">Login</a>
            <a href="#">Register</a>
        </div>
    </div>
    <!-- Offcanvas Menu End -->


    <!-- Header Section Begin -->
    <header class="header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-3 col-lg-2">
                    <div class="header__logo">
                        <a href="../home.html"><img src="/img/logo.png" alt=""></a>
                    </div>
                </div>
                <div class="col-xl-6 col-lg-8">
                    <nav class="header__menu">
                        <ul>
                            <li><a href="../home.html">Home</a></li>
                            <li><a th:href="@{/task/task-list}">게시글 조회</a></li>
                            <li><a th:href="@{/task/create-task}">게시글 등록</a></li>
                            <li><a href="../user/user-list.html">유저 검색</a></li>
                            <li><a href="../profile.html">마이페이지</a>
                                <ul class="dropdown">
                                    <li><a href="../profile.html">내 정보</a></li>
                                    <li><a href="../profile-update.html">회원정보 수정</a></li>
                                    <li><a href="../profile-remove.html">회원탈퇴</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3">
                    <div class="header__right">
                        <div class="header__right__auth">
                            <a href="../login.html">로그인</a>
                            <a href="../sign-up.html">회원가입</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Breadcrumb Begin -->
    <div class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__links">
                        <a href="../home.html"><i class="fa fa-home"></i> Home</a>
                        <a href="./blog.html">Blog</a>
                        <span>Being seen: how is age diversity effecting change in fashion and beauty?</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcrumb End -->

    <!-- Blog Details Section Begin -->
    <section class="blog-details spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-md-10">
                    <div class="blog__details__content">
                        <div class="blog__details__item">
<!--                            <img src="img/blog/details/blog-details.jpg" alt="">-->
                            <div class="blog__details__item__title">
                                <span th:text="${mainTaskDetail.taskStatusValue}"
                                      class="taskStatusSpan"
                                      th:data-tstatus="${mainTaskDetail.taskStatusValue}"
                                      style="font-size: 12px; color: #ffffff; text-transform: uppercase; font-weight: 500; display: inline-block; padding: 3px 11px 1px; border-radius: 1px;">
                                </span>
                                <h4 th:text="${mainTaskDetail.mainSubject}"></h4>
                                <ul>
                                    <li>by <span th:text="${mainTaskDetail.nickname}"></span></li>
                                    <li>등록날짜 <span th:text="${mainTaskDetail.enrolledAt}"></span></li>
                                    <li>카테고리: <span th:text="${mainTaskDetail.categoryNm}"></span> </li>
                                    <li>조회수: <span th:text="${mainTaskDetail.viewCnt}"></span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="blog__details__desc">
                            <p th:text="${mainTaskDetail.memo}"></p>
                        </div>
                        <div class="blog__details__desc">
                            <div><h4>서브 태스크</h4></div>
                            <div th:each="subTaskMap : ${subTaskList}">
                                <div class="blog__feature__item__pic">
                                    <span th:text="${subTaskMap.taskStatusValue}"
                                          class="taskStatusSpan"
                                          th:data-tstatus="${subTaskMap.taskStatusValue}"
                                          style="font-size: 12px; color: #ffffff; text-transform: uppercase; font-weight: 500; display: inline-block; padding: 3px 11px 1px; border-radius: 1px;">
                                    </span>
                                </div>
                                <div class="blog__feature__item__text">
                                    <h6 th:text="${subTaskMap.subSubject}"></h6>
                                    <span th:text="|등록일: ${subTaskMap.enrolledAt}|"></span>
                                </div>
                                <div class="blog__details__tags">
                                    <input type="button" class="updateStatus" th:data-subtaskid="${subTaskMap.subTaskId}" data-taskStatusId="2" value="진행중" />
                                    <input type="button" class="updateStatus" th:data-subtaskid="${subTaskMap.subTaskId}" data-taskStatusId="3" value="완료" />
                                    <input type="button" class="updateStatus" th:data-subtaskid="${subTaskMap.subTaskId}" data-taskStatusId="4" value="실패" />
                                    &nbsp;&nbsp;
                                    <input type="button" class="updateSubTask" th:data-subtaskid="${subTaskMap.subTaskId}" value="수정하기"/>
                                    <form th:action="@{/sub-task/update-sub-task}" th:method="post"
                                          class="subTaskUpdateForm" style="display: none; margin-top: 10px;">
                                        <input type="text" name="subSubject"
                                               style="font-size: 15px; width: 80%; max-width: 800px; height: 40px;"/>
                                        <input type="hidden" name="subTaskId" th:value="${subTaskMap.subTaskId}"/>
                                        <input type="hidden" name="mainTaskId" th:value="${subTaskMap.mainTaskId}"/>
                                        <input type="submit" style="font-size: 15px; width: 80px; height: 40px;" value="수정하기"/>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="blog__details__quote">
                            <div class="icon"><i class="fa fa-quote-left"></i></div>
                            <p>이 유저에게 도움이 될만한 서브테스크를 추천해주세요</p>
                        </div>
                        <div><h4>추천 서브테스크:</h4></div>
                        <div class="blog__details__desc">
                            <p>
                                <div class="blog__feature__item__pic">
                                    <span th:text="${mainTaskDetail.taskStatusValue}"
                                          class="taskStatusSpan"
                                          th:data-tstatus="${mainTaskDetail.taskStatusValue}"
                                          style="font-size: 12px; color: #ffffff; text-transform: uppercase; font-weight: 500; display: inline-block; padding: 3px 11px 1px; border-radius: 1px;">
                                    </span>
                                </div>
                                <div class="blog__feature__item__text">
                                    <h6>Amf Cannes Red Carpet Celebrities Kend..asdoifua0owejfwioefjoifjeofwiejfowiejfowiefj.</h6>
                                    <span>Seb 17, 2019</span>
                                </div>
                                <div class="blog__details__tags">
                                    <a href="#">수락하기</a>
                                    <a href="#">거절하기</a>
                                </div>
                            </p>
                            <p>
                                <div>
                                    <input type="text" style="font-size: 15px; width: 80%; max-width: 800px; height: 40px;">
                                    <input type="button" class="site-btn" value="등록"></input>
                                </div>
                            </p>
                            </br>
                        </div>
                        <div class="blog__details__tags">
                            <a class="fa fa-heart" href="#"> 좋아요</a>
                            <a class="fa fa-heart-o" href="#"> 좋아요</a>
                            <a href="#">수정하기</a>
                            <a href="#">삭제하기</a>
                        </div>
                        <div class="blog__details__btns">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="blog__details__btn__item">
                                        <h6><a href="#"><i class="fa fa-angle-left"></i> Previous posts</a></h6>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="blog__details__btn__item blog__details__btn__item--next">
                                        <h6><a href="#">Next posts <i class="fa fa-angle-right"></i></a></h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="blog__details__comment">
                            <h5>3 Comment</h5>
                            <a href="#" class="leave-btn">Leave a comment</a>
                            <div class="blog__comment__item">
                                <div class="blog__comment__item__pic">
                                    <img src="/img/blog/details/comment-1.jpg" alt="">
                                </div>
                                <div class="blog__comment__item__text">
                                    <h6>Brandon Kelley</h6>
                                    <p>Duis voluptatum. Id vis consequat consetetur dissentiet, ceteros commune perpetua
                                    mei et. Simul viderer facilisis egimus tractatos splendi.</p>
                                    <ul>
                                        <li><i class="fa fa-clock-o"></i> Seb 17, 2019</li>
                                        <li><i class="fa fa-heart-o"></i> 12</li>
                                        <li><i class="fa fa-share"></i> 1</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="blog__comment__item blog__comment__item--reply">
                                <div class="blog__comment__item__pic">
                                    <img src="/img/blog/details/comment-2.jpg" alt="">
                                </div>
                                <div class="blog__comment__item__text">
                                    <h6>Brandon Kelley</h6>
                                    <p>Consequat consetetur dissentiet, ceteros commune perpetua mei et. Simul viderer
                                    facilisis egimus ulla mcorper.</p>
                                    <ul>
                                        <li><i class="fa fa-clock-o"></i> Seb 17, 2019</li>
                                        <li><i class="fa fa-heart-o"></i> 12</li>
                                        <li><i class="fa fa-share"></i> 1</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="blog__comment__item">
                                <div class="blog__comment__item__pic">
                                    <img src="/img/blog/details/comment-3.jpg" alt="">
                                </div>
                                <div class="blog__comment__item__text">
                                    <h6>Brandon Kelley</h6>
                                    <p>Duis voluptatum. Id vis consequat consetetur dissentiet, ceteros commune perpetua
                                    mei et. Simul viderer facilisis egimus tractatos splendi.</p>
                                    <ul>
                                        <li><i class="fa fa-clock-o"></i> Seb 17, 2019</li>
                                        <li><i class="fa fa-heart-o"></i> 12</li>
                                        <li><i class="fa fa-share"></i> 1</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
<!--                <div class="col-lg-4 col-md-4">-->
<!--                    <div class="blog__sidebar">-->
<!--                        <div class="blog__sidebar__item">-->
<!--                            <div class="section-title">-->
<!--                                <h4>Categories</h4>-->
<!--                            </div>-->
<!--                            <ul>-->
<!--                                <li><a href="#">All <span>(250)</span></a></li>-->
<!--                                <li><a href="#">Fashion week <span>(80)</span></a></li>-->
<!--                                <li><a href="#">Street style <span>(75)</span></a></li>-->
<!--                                <li><a href="#">Lifestyle <span>(35)</span></a></li>-->
<!--                                <li><a href="#">Beauty <span>(60)</span></a></li>-->
<!--                            </ul>-->
<!--                        </div>-->
<!--                        <div class="blog__sidebar__item">-->
<!--                            <div class="section-title">-->
<!--                                <h4>Feature posts</h4>-->
<!--                            </div>-->
<!--                            <a href="#" class="blog__feature__item">-->
<!--                                <div class="blog__feature__item__pic">-->
<!--                                    <img src="img/blog/sidebar/fp-1.jpg" alt="">-->
<!--                                </div>-->
<!--                                <div class="blog__feature__item__text">-->
<!--                                    <h6>Amf Cannes Red Carpet Celebrities Kend...</h6>-->
<!--                                    <span>Seb 17, 2019</span>-->
<!--                                </div>-->
<!--                            </a>-->
<!--                            <a href="#" class="blog__feature__item">-->
<!--                                <div class="blog__feature__item__pic">-->
<!--                                    <img src="img/blog/sidebar/fp-2.jpg" alt="">-->
<!--                                </div>-->
<!--                                <div class="blog__feature__item__text">-->
<!--                                    <h6>Amf Cannes Red Carpet Celebrities Kend...</h6>-->
<!--                                    <span>Seb 17, 2019</span>-->
<!--                                </div>-->
<!--                            </a>-->
<!--                            <a href="#" class="blog__feature__item">-->
<!--                                <div class="blog__feature__item__pic">-->
<!--                                    <img src="img/blog/sidebar/fp-3.jpg" alt="">-->
<!--                                </div>-->
<!--                                <div class="blog__feature__item__text">-->
<!--                                    <h6>Amf Cannes Red Carpet Celebrities Kend...</h6>-->
<!--                                    <span>Seb 17, 2019</span>-->
<!--                                </div>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                        <div class="blog__sidebar__item">-->
<!--                            <div class="section-title">-->
<!--                                <h4>Tags cloud</h4>-->
<!--                            </div>-->
<!--                            <div class="blog__sidebar__tags">-->
<!--                                <a href="#">Fashion</a>-->
<!--                                <a href="#">Street style</a>-->
<!--                                <a href="#">Diversity</a>-->
<!--                                <a href="#">Beauty</a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
            </div>
        </div>
    </section>
    <!-- Blog Details Section End -->

<!--    &lt;!&ndash; Instagram Begin &ndash;&gt;-->
<!--    <div class="instagram">-->
<!--        <div class="container-fluid">-->
<!--            <div class="row">-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-1.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-2.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-3.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-4.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-5.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-4 col-sm-4 col-md-6 col-sm-6 p-0">-->
<!--                    <div class="instagram__item set-bg" data-setbg="img/instagram/insta-6.jpg">-->
<!--                        <div class="instagram__text">-->
<!--                            <i class="fa fa-instagram"></i>-->
<!--                            <a href="#">@ ashion_shop</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    &lt;!&ndash; Instagram End &ndash;&gt;-->

    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
<!--            <div class="row">-->
<!--                <div class="col-lg-4 col-md-6 col-sm-7">-->
<!--                    <div class="footer__about">-->
<!--                        <div class="footer__logo">-->
<!--                            <a href="./index.html"><img src="img/logo.png" alt=""></a>-->
<!--                        </div>-->
<!--                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt-->
<!--                        cilisis.</p>-->
<!--                        <div class="footer__payment">-->
<!--                            <a href="#"><img src="img/payment/payment-1.png" alt=""></a>-->
<!--                            <a href="#"><img src="img/payment/payment-2.png" alt=""></a>-->
<!--                            <a href="#"><img src="img/payment/payment-3.png" alt=""></a>-->
<!--                            <a href="#"><img src="img/payment/payment-4.png" alt=""></a>-->
<!--                            <a href="#"><img src="img/payment/payment-5.png" alt=""></a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-3 col-sm-5">-->
<!--                    <div class="footer__widget">-->
<!--                        <h6>Quick links</h6>-->
<!--                        <ul>-->
<!--                            <li><a href="#">About</a></li>-->
<!--                            <li><a href="#">Blogs</a></li>-->
<!--                            <li><a href="#">Contact</a></li>-->
<!--                            <li><a href="#">FAQ</a></li>-->
<!--                        </ul>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-2 col-md-3 col-sm-4">-->
<!--                    <div class="footer__widget">-->
<!--                        <h6>Account</h6>-->
<!--                        <ul>-->
<!--                            <li><a href="#">My Account</a></li>-->
<!--                            <li><a href="#">Orders Tracking</a></li>-->
<!--                            <li><a href="#">Checkout</a></li>-->
<!--                            <li><a href="#">Wishlist</a></li>-->
<!--                        </ul>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-4 col-md-8 col-sm-8">-->
<!--                    <div class="footer__newslatter">-->
<!--                        <h6>NEWSLETTER</h6>-->
<!--                        <form action="#">-->
<!--                            <input type="text" placeholder="Email">-->
<!--                            <button type="submit" class="site-btn">Subscribe</button>-->
<!--                        </form>-->
<!--                        <div class="footer__social">-->
<!--                            <a href="#"><i class="fa fa-facebook"></i></a>-->
<!--                            <a href="#"><i class="fa fa-twitter"></i></a>-->
<!--                            <a href="#"><i class="fa fa-youtube-play"></i></a>-->
<!--                            <a href="#"><i class="fa fa-instagram"></i></a>-->
<!--                            <a href="#"><i class="fa fa-pinterest"></i></a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
            <div class="row">
                <div class="col-lg-12">
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    <div class="footer__copyright__text">
                        <p>Copyright &copy; <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
                    </div>
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search End -->

    <!-- Js Plugins -->
    <script src="/js/jquery-3.3.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.magnific-popup.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/mixitup.min.js"></script>
    <script src="/js/jquery.countdown.min.js"></script>
    <script src="/js/jquery.slicknav.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/jquery.nicescroll.min.js"></script>
    <script src="/js/main.js"></script>
</body>

</html>